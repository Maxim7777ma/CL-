{% extends "base.html" %}
{% load static %}

{% block title %}Реєстрація пацієнта{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/register.css' %}">
{% endblock %}

{% block body_class %}page-register{% endblock %}

{% block content %}
<section class="register-page">
  <div class="register-page__inner">
    <div class="register-card">
      <h1 class="register-card__title">Реєстрація в кабінеті пацієнта</h1>
      <p class="register-card__subtitle">
        Створіть акаунт, щоб бачити свої записи, історію візитів та документи.
      </p>

      <form id="patient-register-form"
            class="register-form"
            method="post"
            action="{% url 'register' %}">
        {% csrf_token %}

        <div class="register-form__group">
          <label class="register-form__label" for="id_full_name">ПІБ</label>
          <input type="text"
                 id="id_full_name"
                 name="full_name"
                 class="register-form__input"
                 placeholder="Ваше ПІБ">
          <div class="register-form__error" data-error-for="full_name"></div>
        </div>

        <div class="register-form__group">
          <label class="register-form__label" for="id_phone">Телефон</label>
          <input type="text"
                 id="id_phone"
                 name="phone"
                 class="register-form__input"
                 placeholder="+380...">
          <div class="register-form__error" data-error-for="phone"></div>
        </div>

        <div class="register-form__group">
          <label class="register-form__label" for="id_email">E-mail (за бажанням)</label>
          <input type="email"
                 id="id_email"
                 name="email"
                 class="register-form__input"
                 placeholder="Ваш email">
          <div class="register-form__error" data-error-for="email"></div>
        </div>

        <div class="register-form__group">
          <label class="register-form__label" for="id_date_of_birth">Дата народження</label>
          <input type="date"
                 id="id_date_of_birth"
                 name="date_of_birth"
                 class="register-form__input">
          <div class="register-form__error" data-error-for="date_of_birth"></div>
        </div>

        <div class="register-form__group">
          <label class="register-form__label" for="id_branch">Філіал</label>
          <select id="id_branch"
                  name="branch"
                  class="register-form__input">
            <option value="">Оберіть філіал</option>
            {% for branch in branches %}
              <option value="{{ branch.id }}">{{ branch.name }} — {{ branch.address }}</option>
            {% endfor %}
          </select>
          <div class="register-form__error" data-error-for="branch"></div>
        </div>

        <div class="register-form__group">
          <label class="register-form__label" for="id_password1">Пароль</label>
          <input type="password"
                 id="id_password1"
                 name="password1"
                 class="register-form__input"
                 placeholder="Пароль">
          <div class="register-form__error" data-error-for="password1"></div>
        </div>

        <div class="register-form__group">
          <label class="register-form__label" for="id_password2">Підтвердження пароля</label>
          <input type="password"
                 id="id_password2"
                 name="password2"
                 class="register-form__input"
                 placeholder="Повторіть пароль">
          <div class="register-form__error" data-error-for="password2"></div>
        </div>

        <div class="register-form__error register-form__error--global"
             data-error-for="__all__"></div>

        <button type="submit" class="register-form__submit">
          Зареєструватися
        </button>
      </form>

      <p class="register-card__hint">
        Вже маєте акаунт?
        <a href="{% url 'login' %}">Увійти</a>
      </p>
    </div>
  </div>
</section>
{% endblock %}

{% block extra_js %}
  <script src="{% static 'js/register.js' %}"></script>
{% endblock %}
